@model IEnumerable<RightsU_Entities.USP_Title_Objection_Adv_List_Result>
@using UTOFrameWork.FrameworkClasses
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    string MsgType = "";
    string msg = "";
    if (TempData["Message"] != null)
    {
        msg = TempData["Message"].ToString();
    }
    if (TempData["strMsgType"] != null)
    {
        MsgType = TempData["strMsgType"].ToString();
    }
    MessageKey objMessageKey = new MessageKey();
    if (Session["objMessageKey"] != null)
    {
        objMessageKey = (MessageKey)Session["objMessageKey"];
    }
}
<script src="~/JS_Core/jquery.sumoselect.js?v=@System.Configuration.ConfigurationManager.AppSettings["Version_No"]"></script>
<link href="~/CSS/sumoselect.css?v=@System.Configuration.ConfigurationManager.AppSettings["Version_No"]" rel="stylesheet" />
<link type="text/css" rel="stylesheet" href="~/css/chosen.min.css?v=@System.Configuration.ConfigurationManager.AppSettings["Version_No"]" />
<script>
    var URL_Reload_Current_Page = '@Url.Action("Index", "Title_Objection_List")'
    var Command_Name, tmpAcqDealCode, tmp_IsZeroWorkFlow, tmp_pageNo, tmp_IsAdvanced, fullyLoaded = "Y";
    //Global Veraible
    var MsgType_G = '@MsgType', msg_G = '@msg', RLCode_G = '@ViewBag.RLCode', ReleaseRecord_G = '@ViewBag.ReleaseRecord', isAdvanced_G = '@ViewBag.isAdvanced'
    , IncludeSubDeal_Search_G = '@ViewBag.IncludeSubDeal_Search'
    , PageNo_G = '@ViewBag.PageNo', Mode_G = '@UTOFrameWork.FrameworkClasses.GlobalParams.DEAL_MODE_VIEW', DealProgram_G = '@GlobalParams.Deal_Program';

    //URL
    var URL_PartialDealList = '@Url.Action("PartialDealList", "Title_Objection_List")'
        , URL_BindAdvanced_Search_Controls = '@Url.Action("BindAdvanced_Search_Controls", "Title_Objection_List")';

    $(document).ready(function () {
        debugger;
        if ('@objMessageKey.LayoutDirection' == 'RTL') {
            $('.MoreActionDiv').css("left", "32px !important");
        }
        $('#ddlSrchDirector,#ddlSrchLicensor').SumoSelect();
    });
</script>
<script>
    var panelVisible = false;
    var RightpanelHideCss = '-350px';
    var RightpanelShowCss = '0px';

    var RightpanelHideCsss = '-350px';
    var RightpanelShowCsss = '350px';

    var LeftpanelHideCss = '-350px';
    var LeftpanelShowCss = '0px';

    var LeftpanelHideCsss = '0px';
    var LeftpanelShowCsss = '350px';


    $(document).ready(function () {
        if ('@objMessageKey.LayoutDirection' == 'RTL') {
            $('.glyphicon-search').css("transform", "rotate(-360deg)");
        }
        else
            $('.glyphicon-search').css("transform", "rotate(-270deg)");
        initializeChosen();
        initializeSubMenu2();
        AllsubmenuHide();
        var lastScrollTop = 0;
        $(window).scroll(function (event) {
            var st = $(this).scrollTop();
            if (st > lastScrollTop)
                $("#pnlSearch").addClass("tinyADSearch")
            else
                $("#pnlSearch").removeClass("tinyADSearch")
        });
        $("#AllsubmenuHide").click(function () {
            if ('@objMessageKey.LayoutDirection' == "RTL") {
                $('.RightPanel').css('left', LeftpanelHideCss);
                $('.leftPanel').css('right', panelHideCss);
                $('#sideNavi').show();
            }
            else {
                $('.RightPanel').css('right', RightpanelHideCss);
                $('.leftPanel').css('left', panelHideCss);
                $('#sideNavi').show();
            }
        })
    });

    function togglePanelVisibility2(panelID) {
        debugger;
       
        debugger;
        if ('@objMessageKey.LayoutDirection' == "RTL") {
            document.getElementById('pnlSearch').removeAttribute('hidden')
            $('.leftPanel').css('right', panelHideCss);
            $(".RightPanel:not(#" + panelID + ")").css("left", LeftpanelHideCss);
            var panel = document.getElementById(panelID);
            if (panel.style.left == LeftpanelShowCss) {
                panel.style.left = LeftpanelHideCss;
                panelVisible = false;
                $('#sideNavi').show();
            }
            else {
                panel.style.left = LeftpanelShowCss;
                panelVisible = true;
                $('#sideNavi').hide();
            }
        }
        else {
            document.getElementById('pnlSearch').removeAttribute('hidden')
            $('.leftPanel').css('left', panelHideCss);
            $('.MoreActionDiv').hide('fast');
            $(".RightPanel:not(#" + panelID + ")").css("right", RightpanelHideCss);
            var panel = document.getElementById(panelID);
            if (panel.style.right == RightpanelShowCss) {
                panel.style.right = RightpanelHideCss;
                panelVisible = false;
                $('#sideNavi').show();
            }
            else {
                panel.style.right = RightpanelShowCss;
                panelVisible = true;
                $('#sideNavi').hide();
            }
        }
    }
    

    function initializeSubMenu2() {
        $('.RightPanel li.has-sub>a').on('click', function () {
            $(this).removeAttr('href');
            var element = $(this).parent('li');
            if (element.hasClass('open')) {
                element.removeClass('open');
                element.find('li').removeClass('open');
                element.find('ul').slideUp(200);
            }
            else {
                element.addClass('open');
                element.children('ul').slideDown(200);
                element.siblings('li').children('ul').slideUp(200);
                element.siblings('li').removeClass('open');
                element.siblings('li').find('li').removeClass('open');
                element.siblings('li').find('ul').slideUp(200);
            }
        });
    }

    function AllsubmenuHide() {
        debugger;
        $('.RightPanel').css('right', RightpanelHideCss);
        $('.leftPanel').css('left', panelHideCss);
        $('#sideNavi').show();
    }
</script>
<style>
    /*.tinyADSearch {
        top: 40px;
    }*/
    .SumoSelect.open > .optWrapper {
        top: 35px;
        display: block;
        z-index: 1010;
    }

    .main_section {
        overflow-x: auto !important;
    }

    .RightPanel {
        padding-left: 10px;
        background-color: #dbdbdb;
        width: 350px;
        height: 100%;
        /*top: 0px !important;*/
        top: 70px;
        /* padding: 10px; */
        /*position: absolute !important;*/
        position: fixed;
        z-index: 5;
        right: 0px;
        box-shadow: 6px -9px 10px rgba(0,0,0,0.3);
        -moz-box-shadow: 6px -9px 10px rgba(0,0,0,0.3);
        -webkit-box-shadow: 6px -9px 10px rgba(0,0,0,0.3);
        transition: all 0.3s;
        -o-transition: all 0.3s;
        -moz-transition: all 0.3s;
        -webkit-transition: all 0.3s;
        /*overflow: auto;*/
    }

    .AdSearch {
        margin-left: 8px;
        margin-top: 3px;
    }

    #divReleaseContentList {
        overflow: auto;
        max-height: 170px;
        width: 94%;
        margin: 3%;
    }

    #AdvanceSearchPanel {
        overflow-y: auto;
        height: 100%;
    }

    .pagination_popup .current.prev, .pagination .current.next {
        z-index: -1 !important;
    }

    #ddlBUUnit_chosen {
        width: 200px !important;
        /*text-align : left;*/
        float: none;
    }

    .chosen-drop > .chosen-search > .chosen-results > ul > li {
        white-space: pre !important;
    }

    /*.SumoSelect {
        width: 94% !important;
    }*/

    /*new added*/
    .search_area {
        border-bottom: 1px dotted #777;
        margin-bottom: 5px;
    }

    #divSearch {
        padding: 6px 10px;
        margin-bottom: 3px;
        border: 1px solid #ddd;
        background-color: #eee;
    }

        #divSearch > ul > li {
            float: left;
            min-height: 56px;
            list-style-type: none;
            padding: 0 3px;
        }

        #divSearch .chosen-container {
            margin: 0;
        }

        #divSearch .checkbox-inline {
            margin-bottom: 7px;
        }

    ul.first > li {
        width: 25%;
    }

        ul.first > li:nth-child(2) {
            width: 25%;
        }

        ul.first > li:last-child {
            width: 25%;
        }

    ul.second > li {
        width: 35%;
    }

        ul.second > li:last-child {
            width: 25%;
        }

        ul.second > li:last-child {
            width: 25%;
        }

    #divSearch label {
        display: inline-block;
    }

    /*  .container {
        /* width: 900px;
        width: 95%;
        margin: 0 auto;
        /* min-height: 710px;
        padding: 0px 0 55px 80px !important;
    }*/

    .help {
        text-align: center;
        border-left: 1px solid #000;
        border-right: 1px solid #000;
        border-bottom: 1px solid #000;
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
        padding: 0px 2px 2px 2px;
        width: 80px;
        float: right;
    }

        .help:hover {
            background: #e0e0e0;
        }

    .collapse {
        position: absolute;
        right: 3px;
        top: 72px;
        width: 180px;
        height: 280px;
        z-index: 99;
        background-color: #f3f3f3;
        border: 1px solid #000000;
    }

        .collapse div {
            padding: 15px;
            border-bottom: 1px solid #dddddd;
            font-size: 15px;
            cursor: pointer;
        }

            .collapse div:hover {
                background-color: #0080c0;
                color: #ffffff;
            }

    .rowBorder td {
        border-bottom: 1px dotted #dddddd !important;
    }

    .rowBg {
        background-color: #eaeaea;
    }

        .rowBg td {
            border-bottom: 1px dotted #dddddd !important;
        }

    .PlatformExpand {
        position: absolute;
        display: none;
        z-index: 1000;
        background-color: black;
        color: white;
        border: 1px solid black;
        padding: 5px;
    }

    .dashboard {
        min-height: 245px !important;
    }

    .tab-content #2_StackedColumn_chart {
        width: 520px !important;
    }

    #ui-id-1 {
        position: fixed;
    }

    .container {
        min-height: 738px;
    }

    /*.tinyADSearch {
        top: 70px;
    }*/
</style>
<script src="~/Custom_Scripts/Title_Objection_Adv_List.js"></script>
<div class="main_section">
    <section class="rightsU_container clearfix">
        <div id="sideNavi">
            <div class="side-navi-item item1" style="top:0px ;width: 46px !important;" onclick="javascript: togglePanelVisibility2('pnlSearch'); BindAdvanced_Search_Controls('BTC');"><div><span class="glyphicon glyphicon-search" style="transform: rotate(-270deg);"></span></div></div>
        </div>
        <div class="RightPanel" id="pnlSearch" hidden="hidden" dir="@objMessageKey.LayoutDirection">
            <div id="AdvanceSearchPanel">
                <h4>@objMessageKey.AdvanceSearch</h4>


                <a class="close" href="#" onclick="javascript: panelVisible=true;togglePanelVisibility2('pnlSearch');"><span class="Reviewclose">x</span></a>
                <ul id="AdSearch" style="margin-top: 11px;border-bottom: 0;border-left: 0px;border-right: 0px;">
                    <li class="AdSearch">
                        <label>@objMessageKey.AgreementNo:</label><br>
                        <input type="text" value="@ViewBag.DealNo_Search" placeholder="@objMessageKey.DealNo" maxlength="15" id="txtSrchDealNo" style="width: 172px;" />
                    </li>
                    <li class="AdSearch">
                        <label>@objMessageKey.Title:</label><br>
                        <select id="ddlSrchDirector" multiple="multiple"></select>
                        @*<input type="text" id="txtTitleSearch" style="width:300px" autocomplete="on" onkeyup="populateTitle(event)" />*@
                        @Html.Hidden("hdnTitleSearch")

                    </li>
                    <li class="AdSearch">
                        <label>Objection Type:</label><br>
                        <select id="ddlSrchDealType" style="width: 174px;" class="form_input chosen-select"></select>
                    </li>

                    <li class="AdSearch">
                        <label>Objection Status:</label><br>
                        <select id="ddlWorkflowStatus" class="form_input chosen-select" style="width: 174px;"></select>
                    </li>
                    <li class="AdSearch">
                        <label>@objMessageKey.Licensor:</label><br>
                        <select id="ddlSrchLicensor" multiple="multiple"></select>
                    </li>
                </ul>
                <br />

                <div style="text-align:center;">
                    <br><br>
                    @*<br />*@
                    <a class="btn-primary" href="#" onclick="validateSearch();">@objMessageKey.Search</a>
                    <a class="btn-primary" href="#" onclick="ClearAll();">@objMessageKey.ClearAll</a>
                    <input type="hidden" id="hdnClearAll" />
                </div>
            </div>
        </div>
        <div class="container acq main_col" id="AllsubmenuHide">
            <div class="top_area">
                <h2 class="pull-left" style="">
                    Objection Detail
                </h2>
                <div class="MuBUList" id="IsAcqSyn" style="">
                    <input type="checkbox" id="chkAcq" value="A" checked="checked" /> Acquisition
                    <input type="checkbox" id="chkSyn" value="S" checked="checked" /> Syndication
                </div>
                <div class="right_nav pull-right">
                    <ul>
                        <li>
                            <input type="text" autocomplete="off" name="srchCommon" id="srchCommon" value="@ViewBag.Search" class="search" style="width:260px !important;"
                                   placeholder="Search by Title, DealNo, Licensor" />
                        </li>
                        <li>
                            <a class="btn-primary" style="cursor: pointer" onclick="CommonSrch();">@objMessageKey.Search</a>
                        </li>
                        <li>
                            <a href="#" onclick="ShowAll();">
                                <span class="glyphicon glyphicon-refresh" title="@objMessageKey.ShowAll" id="ShowAll"></span>
                            </a>
                        </li>
                        @*<li>
                                <a href="#">
                                    <span class="glyphicon glyphicon-search" title="Advanced Search" onclick="BindAdvanced_Search_Controls('BTC');"></span>
                                </a>
                            </li>*@
                        <li>
                            <a class="btn-primary" href="@Url.Action("Index", "Title_Objection", new { callFrom = "LIST", TitleObjectCode = 0 })">Add Objection</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="dvDealList">
            </div>
            <div id="dvNoRecords" class="grid_area deal clearfix" style="display: none">
                @objMessageKey.Norecordfound!!
            </div>
            <div aria-labelledby="myModalLabel" class="form_wrapper modal fade in big_popup" id="popupValidationError" role="dialog" tabindex="-1" aria-hidden="false" style="display: none; overflow: scroll; height: 600px;">
                <div class="modal-dialog">
                    <div class="modal-content clearfix">
                        <form class="form" id="frm_set_milestone">
                            <div>
                                <div class="form_fields acq">
                                    <div class="modal_block modal_header">
                                        <a class="close" data-dismiss="modal" href="#">
                                            <span>×</span>
                                            <span class="sr-only">Close</span>
                                        </a>
                                        <h2>@objMessageKey.DuplicateCombination</h2>
                                    </div>
                                    <div class="modal_block">
                                        <div id="BindValidationPopup"></div>
                                    </div>
                                    <div class="modal_block_full">
                                        <div class="form_links">
                                            <ul class="modal_block clearfix">
                                                <li>
                                                    <a data-dismiss="modal" class="btn btn-primary" href="#">@objMessageKey.Cancel</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div aria-labelledby="myModalLabel" class="form_wrapper modal fade scroll" id="popupTermination" role="dialog" tabindex="-1" aria-hidden="false" style="display: none; max-width: 800px;">
            </div>
            <div aria-labelledby="myModalLabel" class="form_wrapper modal fade scroll" id="popupTerminationError" role="dialog" tabindex="-1" aria-hidden="false" style="display: none;">
            </div>
        </div>
    </section>
</div>
<div aria-labelledby="myModalLabel" class="form_wrapper modal fade in modalPopup" id="divPopupReleaseContent" role="dialog" tabindex="-1" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content clearfix">
            <form class="form" id="formReleaseContent">
                <div class="form_wrapper">
                    <div class="form_fields acq">
                        <div class="modal_block modal_header">
                            <a class="close" data-dismiss="modal" href="#" onclick="CloseReleaseContent()">
                                <span>×</span>
                                <span class="sr-only">Close</span>
                            </a>
                            <h2>@objMessageKey.ReleaseContentList  ( <span id="spnAgreementNo"></span> )</h2>
                        </div>

                        <div style="background-color:#eee">
                            <table class="table">
                                <tr>
                                    <td style="width:15%;line-height: 26px;text-align:center;">
                                        @objMessageKey.TitleName :
                                    </td>
                                    <td style="width:30%;">
                                        <input type="text" name="srchCommon" id="txtSearch_RCPopup" class="search" style="width:100%" placeholder="@objMessageKey.TitleName" />
                                    </td>
                                    <td>
                                        <input type="button" id="btnSearch_RCPopup" class="button" value="@objMessageKey.Search" onclick="btnSearch_RCPopup_OnClick('S')">
                                        <input type="button" id="btnShowAll_RCPopup" class="button" value="@objMessageKey.ShowAll" onclick="btnSearch_RCPopup_OnClick('SA')">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="grid_area">
                            <div class="paging_area clearfix" style="margin:10px">
                                <span class="pull-left">@objMessageKey.TotalRecords: </span>
                                <span class="pull-left" id="lblRecordCount_RCPopup"></span>
                                <input type="hidden" id="hdnPageNo_RCPopup" name="hdnPageNo_RCPopup" value="1" />
                                <input type="hidden" id="hdnPagePerBatch_RCPopup" name="hdnPagePerBatch_RCPopup" value="5" />
                                <input type="hidden" id="hdnRecordCount_RCPopup" name="hdnRecordCount_RCPopup" value="0" />
                                <input type="hidden" id="hdnSelectedTitleCodes" name="hdnSelectedTitleCodes" value="" />
                                <input type="hidden" id="hdnAllTitleCodes" name="hdnAllTitleCodes" value="" />
                                <input type="hidden" id="hdnRecodLockingCode" name="hdnRecodLockingCode" value="0" />

                                <div id="Pagination_popup" class="pagination_popup">
                                </div>
                                <span class="pull-right">
                                    @objMessageKey.PageSize:
                                    <input type="text" id="txtPageSize_RCPopup" name="txtPageSize" class="smallTextBox pagingSize" value="10"
                                           onchange="txtPageSize_RCPopup_OnChange()" onblur="setDefaultPaging('txtPageSize_RCPopup')" />
                                </span>
                            </div>

                            <div id="divReleaseContentList">
                            </div>
                        </div>
                        <input type="hidden" name="acqDealCode" id="acqDealCode" value="0" />
                        <input type="hidden" name="agreementNo" id="agreementNo" value="0" />
                        <div class="modal_block_full">
                            <div class="form_links">
                                <ul class="modal_block clearfix">
                                    <li>
                                        <input type="button" id="btnSaveReleaseContent" class="btn btn-primary" value="@objMessageKey.Save"
                                               onclick="SaveReleaseContent();">
                                    </li>
                                    <li>
                                        <input type="button" id="btnCancelReleaseContent" class="btn btn-primary" value="@objMessageKey.Cancel"
                                               onclick="CloseReleaseContent();">
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div aria-labelledby="myModalLabel" class="form_wrapper modal fade in small_popup" id="popAddTitle" style="max-width: 560px;" role="dialog" tabindex="-1" aria-hidden="false">
    <div class="modal-dialog">
        <div class="modal-content clearfix">
            <form class="form" id="formReleaseContent">
                <div class="form_wrapper">
                    <div class="form_fields acq">
                        <div class="modal_block modal_header">
                            <a class="close" data-dismiss="modal" href="#" onclick="CloseAT()">
                                <span>×</span>
                                <span class="sr-only">Close</span>
                            </a>
                            <h2><b><span id="spnCount_AT" style="font-weight: 500;"></span></b>&nbsp;&nbsp;@objMessageKey.Title  ( <span id="spnAgreementNo_AT"></span> )</h2>
                        </div>
                        <div>
                            <table class="table">
                                <tr>
                                    <td style="width:12%;line-height: 26px;text-align:center;padding-left: 19px;">
                                        @objMessageKey.Title :
                                    </td>
                                    <td style="width:48%;">
                                        <input type="text" name="srchCommon" id="txtSearch_ATPopup" class="search" style="width:100%" placeholder="@objMessageKey.TitleName" />
                                    </td>
                                    <td>
                                        <input type="button" id="btnSearch_ATPopup" class="button" value="@objMessageKey.Search" onclick="btnSearch_ATPopup_OnClick('S')">
                                        <input type="button" id="btnShowAll_ATPopup" class="button" value="@objMessageKey.ShowAll" onclick="btnSearch_ATPopup_OnClick('SA')">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="">
                            <div class="tab-content clearfix table-wrapper scale_table_container">
                                <div class="scale_table_block">
                                    <div id="divTitleList">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" name="acqDealCode_AT" id="acqDealCode_AT" value="0" />
                        <input type="hidden" name="agreementNo_AT" id="agreementNo_AT" value="0" />
                        <div class="modal_block_full">
                            <div class="form_links">
                                <ul class="modal_block clearfix">
                                    <li>
                                        <input type="button" id="btnCancelReleaseContent" class="btn btn-primary" value="@objMessageKey.Close"
                                               onclick="CloseAT();">
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<style>
    /*Paging Style*/

    .pagination_popup {
        float: right;
        margin-top: 4px;
    }

        .pagination_popup > span {
            position: relative;
            padding: 4px 9px;
            margin-left: -1px;
            line-height: 1.42857143;
            color: #428bca;
            text-decoration: none;
            background-color: #fff;
            border: 1px solid #ddd;
        }

        .pagination_popup > a {
            margin-left: -1px;
            padding: 4px 9px;
            line-height: 1.42857143;
            color: #428bca;
            text-decoration: none;
            background-color: #fff;
            border: 1px solid #ddd;
        }

            .pagination_popup > a:first-child, .pagination > span:first-child {
                margin-left: 0;
                border-top-left-radius: 4px;
                border-bottom-left-radius: 4px;
            }

            .pagination_popup > a:last-child, .pagination > span:last-child {
                border-top-right-radius: 4px;
                border-bottom-right-radius: 4px;
            }

            .pagination_popup > a:hover, .pagination > span:hover, .pagination > a:focus, .pagination > span:focus {
                color: #2a6496;
                background-color: #eee;
            }

        .pagination_popup > .current {
            z-index: 2;
            font-weight: 700;
            cursor: not-allowed;
            border-color: #428bca;
        }

        .pagination_popup .current.prev, .pagination .current.next {
            border-color: #ddd;
            font-weight: 100;
            z-index: 1;
        }
    /*End Paging Style*/
</style>
