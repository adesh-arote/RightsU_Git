function SetDisableTalent(){var n="3",t=n.split(","),i=n.split(","),r=n.split(",");$("#ddlProducer option").each(function(){$.inArray($(this)[0].value,t)!=-1&&($(this)[0].disabled=!0)});$("#ddlDirector option").each(function(){$.inArray($(this)[0].value,i)!=-1&&($(this)[0].disabled=!0)});$("#ddlStarCast option").each(function(){$.inArray($(this)[0].value,r)!=-1&&($(this)[0].disabled=!0)});$("#ddlProducer").trigger("chosen:updated");$("#ddlDirector").trigger("chosen:updated");$("#ddlStarCast").trigger("chosen:updated")}function fileCheck(n){var t;return $.inArray($(n).val().split(".").pop().toLowerCase(),["jpeg","jpg","png","gif","bmp"])==-1?(alert("Only '.jpeg','.jpg', '.png', '.gif', '.bmp' formats are allowed."),!1):(n.files&&n.files[0]&&(t=new FileReader,t.onload=function(n){$("#imgTitle").attr("src",n.target.result)},t.readAsDataURL(n.files[0])),!0)}function btnCancel(){var n=URL_TitleList_Cancel;n=n.replace("Code",pageNo);n=n.replace("Deal_Type_Code",dealTypeCode);n=n.replace("Title_Name",searchedTitle);n=n.replace("Page_Size",pageSize);n=n.replace("amp;","");n=n.replace("amp;","");n=n.replace("amp;","");n=n.replace("amp;","");n=n.replace("amp;","");window.location.href=n}function BindExtended(n){showLoading();var t=title_Code;$.ajax({type:"POST",url:URL_BindFieldNamedd,traditional:!0,enctype:"multipart/form-data",contentType:"application/json; charset=utf-8",data:JSON.stringify({TitleCode:t,mode:n}),success:function(n){$(".divgvAdditionalField").html(n);initializeChosen();initializeTooltip();hideLoading()},error:function(){}})}function isNumber(n){n=n?n:window.event;var t=n.which?n.which:n.keyCode;return t>31&&(t<48||t>57)?!1:!0}function isValidTime(n){var t=new RegExp(/^[0-9]+(\.[0-5][0-9])?$/);return t.test(n)}function Save(){var s,t,i;showLoading();var r="",u="",f="",e="",o="",n=!0;return $("#hdnRowNum").val()!=""&&$("#hdnRowNum").val()!=null?(showAlert("e","Please complete add/edit operation.",""),hideLoading(),!1):$("#Deal_Type_Code").val()==null||$("#Deal_Type_Code").val()==""?($("#Deal_Type_Code").addClass("required"),hideLoading(),!1):$("#Title_Language_Code").val()==null||$("#Title_Language_Code").val()==""||$("#Title_Language_Code").val()==0?($("#Title_Language_Code").addClass("required"),hideLoading(),!1):$.trim($("#Year_Of_Production").val())!=""&&(s=parseInt($.trim($("#Year_Of_Production").val())),s<1900)?(showAlert("E","Year of Release should be greater than 1900",""),hideLoading(),!1):$.trim($("#Duration_In_Min").val())!=""&&!isValidTime($("#Duration_In_Min").val())?(hideLoading(),showAlert("E","Invalid Duration(Min)",""),!1):$.trim($("#txtTitle_Name").val())==""?($("#txtTitle_Name").addClass("required"),hideLoading(),!1):($("#ddlProducer").val()!=null&&(r=$("#ddlProducer").val().join(",")),$("#ddlDirector").val()!=null&&(u=$("#ddlDirector").val().join(",")),$("#ddlGenres").val()!=null&&(f=$("#ddlGenres").val().join(",")),$("#ddlStarCast").val()!=null&&(e=$("#ddlStarCast").val().join(",")),o=$("#ddlCountry").val()!=null?$("#ddlCountry").val().join(","):"",$("#hdnProducer").val(r),$("#hdnDirector").val(u),$("#hdnGenres").val(f),$("#hdnStarCast").val(e),$("#hdnCountry").val(o),$.ajax({type:"POST",url:URL_fillUDT,traditional:!0,enctype:"multipart/form-data",contentType:"application/json; charset=utf-8",data:JSON.stringify({hdnDirector:$("#hdnDirector").val(),hdnKeyStarCast:$("#hdnStarCast").val(),hdnProducer:$("#hdnProducer").val()}),async:!1,success:function(t){typeof t.Error!="undefined"&&t.Error!=""?(showAlert("E",t.Error,""),n=!1):n=!0},error:function(){}}),t="",i=$("#txtTitle_Name").val(),i!=""&&n==!0&&$.ajax({type:"POST",url:URL_ValidateIsDuplicate,traditional:!0,enctype:"multipart/form-data",async:!1,data:JSON.stringify({TitleName:i,DealTypeCode:$("#Deal_Type_Code").val()}),contentType:"application/json; charset=utf-8",success:function(i){i.Message!=""&&(t=i.Message,showAlert("E",t),n=!1)},error:function(){}}),hideLoading(),n)}function AddTalent(n){$("#talent_name").val("");SelectRole(n);$("#popAddTalent").modal()}function SelectRole(n){$("input[type=checkbox]").each(function(){this.checked=!1;$(this).prop("disabled",!1)});$("input[type=checkbox]."+n).prop("checked",!0);$("input[type=checkbox]."+n).prop("disabled",!0)}function ValidateSave(n){var i="",e=rolesList,r="",u="",t="",f="";f=n=="validate"?URLSave:URL_SaveTalent;$("#talent_name").val()!=""?u=$("#talent_name").val():(showAlert("E","Please Enter Talent Name",""),i="E");$("input[type=checkbox]:checked").length<=0&&i==""&&(showAlert("E","Please select atleast one role",""),i="E");$("input[type=checkbox]").each(function(){this.checked&&(r+=$(this).val()+",")});t=$("input[name=sex]:checked","#talent_popup").val();i==""?(parseInt(t)==1?t="F":parseInt(t)==0?t="M":parseInt(t)==2&&(t="N"),showLoading(),$.ajax({type:"POST",url:f,traditional:!0,enctype:"multipart/form-data",contentType:"application/json; charset=utf-8",data:JSON.stringify({Roles:r,TalentName:u,Gender:t}),success:function(n){var i,r,t;if(typeof n.TalentError!="undefined"&&n.TalentError!="")showAlert("E",n.TalentError,""),$("#popAddTalent").modal();else if(typeof n.TalentConfirmation!="undefined"&&n.TalentConfirmation!=="")$("#hdnConfirmationtype").val("talent"),showAlert("I",n.TalentConfirmation,"OKCANCEL"),$("#popAddTalent").modal();else{$("#hdnConfirmationtype").val("");i="";$("input[type=checkbox]:checked").each(function(){i=i+$(this).attr("class")+","});var u=i.toString().trim(",").split(",");for(r=0;r<u.length;r++)t=u[r],t!=""&&(t=="Producer"&&AppendTalent("#ddlProducer",n),t=="Director"&&AppendTalent("#ddlDirector",n),t=="StarCast"&&AppendTalent("#ddlStarCast",n));$("#popAddTalent").modal("hide")}hideLoading()},error:function(){}})):$("#popAddTalent").modal();n=""}function AppendTalent(n,t){var i=0;$(n+" :selected").each(function(n,r){$(r).text().toLowerCase()==t.Text.toLowerCase()&&i++});i==0&&($(n).append("<option selected='selected' value="+t.Value+">"+t.Text+"<\/option>"),$(n).trigger("chosen:updated"))}function OnSuccess(n){showAlert("S",n,"OK")}function handleOk(){if($("#hdnConfirmationtype").val()=="talent")ValidateSave("validate");else{var n=URL_TitleList;n=n.replace("amp;","");n=n.replace("amp;","");window.location.href=n}}function handleCancel(){$("#hdnRowNum").val("")}$(document).ready(function(){$("#hdnConfirmationtype").val("");showLoading();BindExtended();var n=document.getElementById("Synopsis");n!=null&&countChar(n);$("#imgTitle").on("click",function(){$("#uploadFile").click()});setChosenWidth("#ddlProducer","85%");setChosenWidth("#ddlDirector","85%");setChosenWidth("#ddlStarCast","95%");hideLoading();$("#txtTitle_Name").keyup(function(){$("#lblTitleHead").text(this.value)})});
//# sourceMappingURL=Title_AddEdit.min.js.map
